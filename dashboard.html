<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Quality Management Dashboard - Real-time Metrics and Analytics">
    <title>QMS Dashboard | Pharmaceutical QMS</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span>üè•</span>
                <span>Pharma QMS</span>
            </a>

            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="processes.html" class="nav-link">QMS Processes</a></li>
                <li><a href="standards.html" class="nav-link">Standards</a></li>
                <li><a href="deviation-management.html" class="nav-link">Deviation & CAPA</a></li>
                <li><a href="dashboard.html" class="nav-link active">Dashboard</a></li>
                <li><a href="monitoring.html" class="nav-link">Monitoring</a></li>
                <li><a href="reports.html" class="nav-link">Reports</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" style="padding: 2rem 1.5rem; background: transparent; color: var(--primary-blue);">
        <div class="hero-content hero-left">
            <h1 style="color: var(--primary-blue)">Dashboard</h1>
        </div>
    </section>

    <!-- Compact Dashboard Layout -->
    <section class="container">
        <div class="dashboard-grid">
            <!-- Left column: KPI small cards -->
            <div class="kpi-column">
                <div class="kpi-row">
                    <div  class="stat-card" style="border-left-color: var(--primary-blue);"> 
                        <div class="mini-meta">Active Deviations</div>
                        <div class="mini-value">12</div>
                    </div>
                    <div class="stat-card" style="border-left-color: var(--info);">
                        <div class="mini-meta">CAPA On-Time</div>
                        <div class="mini-value">95%</div>
                    </div>
                </div>

                <div class="kpi-row">
                    <div class="stat-card" style="border-left-color: var(--primary-blue);">
                        <div class="mini-meta">Training Compliance</div>
                        <div class="mini-value">100%</div>
                    </div>
                    <div class="stat-card stat-card--small" style="border-left-color: var(--info);">
                        <div class="mini-meta">OOS Investigations</div>
                        <div class="mini-value">3</div>
                    </div>
                </div>

                <div class="kpi-row">
                    <div class="stat-card" style="border-left-color: var(--primary-blue);">
                        <div class="mini-meta">Batches MTD</div>
                        <div class="mini-value">156</div>
                    </div>
                    <div class="stat-card" style="border-left-color: var(--info);">
                        <div class="mini-meta">Change Controls</div>
                        <div class="mini-value">8</div>
                    </div>
                </div>
            </div>

            <!-- Right column: large main chart -->
            <div class="main-chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">Production ‚Äî Last 6 Months</h3>
                    <div class="chart-controls">
                        <select class="form-select">
                            <option>Last 6 Months</option>
                            <option>Last 12 Months</option>
                        </select>
                    </div>
                </div>
                <canvas id="productionChart"></canvas>
            </div>

            <!-- <div class="stat-card" style="border-left-color: var(--success);">
                <div class="stat-value">156</div>
                <div class="stat-label">Batches Released (MTD)</div>
                <div class="stat-trend trend-up">‚Üë 12% from last month</div>
            </div> -->

            <!-- Second row: List / Small bar -->
            <!-- Top-right: Upcoming Deadlines -->
            <div class="upcoming-card card">
                <h4>Upcoming Deadlines</h4>
                <ul class="recent-list">
                    <li class="mb-3" style="border-left: 3px solid var(--danger); padding-left: 1rem;"><strong>CAPA-2025-010</strong> ‚Äî Root cause analysis due <span class="muted">in 2 days</span>
                    </li>
                    <li class="mb-3" style="border-left: 3px solid var(--warning); padding-left: 1rem;"><strong>TRAIN-2025-004</strong> ‚Äî Refresher training due <span class="muted">in 4 days</span>
                    </li>
                    <li  class="mb-3" style="border-left: 3px solid var(--success); padding-left: 1rem;"><strong>QC-REPORT-77</strong> ‚Äî Stability report submission <span class="muted">in 1 week</span>
                    </li>
                </ul>
            </div>

            <div class="list-card card">
                <div class="card-header">
                    <h4 class="card-title">Recent Items</h4>
                    <a href="recent.html" class="btn btn-outline view-all-btn" aria-label="View all recent items">View All</a>
                </div>
                <ul class="recent-list">
                    <li  class="mb-3" style="border-left: 3px solid var(--warning);padding-left: 1rem;"><strong>DEV-2024-092</strong> ‚Äî Equipment malfunction <span class="muted">2 hours ago</span>
                    </li>
                    <li class="mb-3" style="border-left: 3px solid var(--info); padding-left: 1rem;"><strong>DEV-2024-091</strong> ‚Äî Documentation error <span class="muted">5 hours ago</span></li>
                    <liclass="mb-3" style="border-left: 3px solid var(--info); padding-left: 1rem;"><strong>DEV-2024-090</strong> ‚Äî Material variance <span class="muted">1 day ago</span></li>
                </ul>
            </div>

            <div class="audit-card card">
                <div class="chart-header">
                    <h3 class="chart-title">Audit Findings Tracker</h3>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>AUDIT TYPE</th>
                                <th>DATE</th>
                                <th>FINDINGS</th>
                                <th>CRITICAL</th>
                                <th>MAJOR</th>
                                <th>MINOR</th>
                                <th>STATUS</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Internal GMP</td>
                                <td>Nov 15, 2024</td>
                                <td>8</td>
                                <td>0</td>
                                <td>2</td>
                                <td>6</td>
                                <td><span class="badge badge-warning">CAPA IN PROGRESS</span></td>
                            </tr>
                            <tr>
                                <td>ISO Surveillance</td>
                                <td>Aug 22, 2024</td>
                                <td>3</td>
                                <td>0</td>
                                <td>0</td>
                                <td>3</td>
                                <td><span class="badge badge-success">CLOSED</span></td>
                            </tr>
                            <tr>
                                <td>Supplier Audit</td>
                                <td>Oct 10, 2024</td>
                                <td>5</td>
                                <td>0</td>
                                <td>1</td>
                                <td>4</td>
                                <td><span class="badge badge-success">CLOSED</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Pharmaceutical QMS</h3>
                <p>Comprehensive Quality Management System for pharmaceutical production excellence.</p>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="processes.html">QMS Processes</a></li>
                    <li><a href="standards.html">Standards</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="reports.html">Reports</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="deviation-management.html">Deviation Management</a></li>
                    <li><a href="monitoring.html">Environmental Monitoring</a></li>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">Training Materials</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Compliance</h3>
                <ul class="footer-links">
                    <li><a href="standards.html#gmp">GMP Compliance</a></li>
                    <li><a href="standards.html#fda">FDA Regulations</a></li>
                    <li><a href="standards.html#iso">ISO Standards</a></li>
                    <li><a href="standards.html#ich">ICH Guidelines</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Pharmaceutical QMS. Quality Management System for Educational Purposes.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Production Chart
            new Chart(document.getElementById('productionChart'), {
                type: 'bar',
                data: {
                    labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Batches Produced',
                        data: [142, 156, 148, 165, 152, 156],
                        backgroundColor: chartColors.primary
                    }]
                },
                options: chartDefaults
            });

            // FPY Chart
            new Chart(document.getElementById('fpyChart'), {
                type: 'line',
                data: {
                    labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'First Pass Yield %',
                        data: [96.2, 97.1, 96.8, 97.5, 98.1, 98.5],
                        borderColor: chartColors.success,
                        backgroundColor: 'rgba(0, 200, 83, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    ...chartDefaults,
                    scales: { y: { beginAtZero: false, min: 90, max: 100 } }
                }
            });

            // Batch Status Chart removed (Overall Utilization card not present)

            // Product Line Chart removed (replaced by Audit Findings Tracker)

            // Deviation Trend Chart
            new Chart(document.getElementById('deviationTrendChart'), {
                type: 'line',
                data: {
                    labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Total Deviations',
                        data: [28, 25, 22, 19, 15, 12],
                        borderColor: chartColors.danger,
                        backgroundColor: 'rgba(229, 57, 53, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: chartDefaults
            });

            // CAPA Effectiveness Chart
            new Chart(document.getElementById('capaEffectivenessChart'), {
                type: 'bar',
                data: {
                    labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'On-Time Closure %',
                        data: [70, 75, 82, 88, 92, 95],
                        backgroundColor: chartColors.success
                    }]
                },
                options: {
                    ...chartDefaults,
                    scales: { y: { beginAtZero: true, max: 100 } }
                }
            });

            // OOS Chart
            new Chart(document.getElementById('oosChart'), {
                type: 'bar',
                data: {
                    labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'OOS',
                        data: [5, 4, 3, 2, 3, 2],
                        backgroundColor: chartColors.danger
                    }, {
                        label: 'OOT',
                        data: [3, 2, 4, 2, 1, 1],
                        backgroundColor: chartColors.warning
                    }]
                },
                options: chartDefaults
            });

            // QC Results Chart
            new Chart(document.getElementById('qcResultsChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Pass', 'Fail', 'Retest'],
                    datasets: [{
                        data: [1245, 15, 8],
                        backgroundColor: [chartColors.success, chartColors.danger, chartColors.warning]
                    }]
                },
                options: chartDefaults
            });
        });
    </script>
</body>

</html>